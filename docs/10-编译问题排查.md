# 10-ç¼–è¯‘é—®é¢˜æ’æŸ¥.md

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0  
**æœ€åæ›´æ–°**: 2025-10-22  
**é€‚ç”¨å¹³å°**: Windows (Visual Studio 2015)  
**çŠ¶æ€**: å·²å®Œæˆ - åˆå¹¶ä¸‰ä¸ªæ’é”™æ–‡æ¡£

---

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£åˆå¹¶äº†ä»¥ä¸‹ä¸‰ä¸ªæ–‡æ¡£çš„å†…å®¹ï¼Œæä¾›ç»Ÿä¸€çš„ç¼–è¯‘é—®é¢˜æ’æŸ¥æŒ‡å—ï¼š
1. `MT3ç¼–è¯‘é—®é¢˜ä¿®å¤æ€»ç»“.md` - VS2015ç¼–è¯‘é—®é¢˜ä¿®å¤æ€»ç»“
2. `Debugç¼–è¯‘é”™è¯¯åˆ†æä¸è§£å†³æ–¹æ¡ˆ.md` - Debugé…ç½®ç‰¹å®šé—®é¢˜
3. `MT3é¡¹ç›®ç¼–è¯‘é—®é¢˜åˆ†æä¸è§£å†³æ–¹æ¡ˆ.md` - ç»¼åˆæ€§é—®é¢˜åˆ†æ

---

## ğŸ” é—®é¢˜åˆ†ç±»ä¸è§£å†³æ–¹æ¡ˆ

### 1. é“¾æ¥é”™è¯¯ï¼ˆLNK ç³»åˆ—ï¼‰

#### 1.1 LNK2019 - æ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å·

**ç—‡çŠ¶**: 
```
error LNK2019: æ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å· __imp__isalnum
error LNK2019: æ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å· _asin
error LNK2019: æ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å· "void * __cdecl operator new(unsigned int)"
```

**åŸå› åˆ†æ**:
- Debug/Release é…ç½®æ··ç”¨ï¼Œå¯¼è‡´Cè¿è¡Œæ—¶åº“(CRT)ç‰ˆæœ¬ä¸åŒ¹é…
- ä¾èµ–åº“ä¸ä¸»ç¨‹åºä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„Visual Studioç¼–è¯‘
- ç¼ºå°‘å¿…è¦çš„åº“ä¾èµ–

**è§£å†³æ–¹æ¡ˆ**:
1. **ç»Ÿä¸€è¿è¡Œæ—¶åº“é…ç½®** (æ¨è):
   ```xml
   <!-- åœ¨æ‰€æœ‰é¡¹ç›®ä¸­ç»Ÿä¸€ä½¿ç”¨ç›¸åŒçš„è¿è¡Œæ—¶åº“ -->
   <!-- Releaseé…ç½® -->
   <RuntimeLibrary>MultiThreadedDLL</RuntimeLibrary>  <!-- /MD -->
   
   <!-- Debugé…ç½® -->
   <RuntimeLibrary>MultiThreadedDebugDLL</RuntimeLibrary>  <!-- /MDd -->
   ```

2. **æ·»åŠ å…¼å®¹åº“**:
   ```xml
   <AdditionalDependencies>legacy_stdio_definitions.lib;%(AdditionalDependencies)</AdditionalDependencies>
   ```

3. **é‡æ–°ç¼–è¯‘æ‰€æœ‰ä¾èµ–åº“**:
   ```batch
   build_all_debug.bat  # ç¼–è¯‘Debugç‰ˆæœ¬
   build_all_release.bat  # ç¼–è¯‘Releaseç‰ˆæœ¬
   ```

#### 1.2 LNK1104 - æ— æ³•æ‰“å¼€åº“æ–‡ä»¶

**ç—‡çŠ¶**:
```
error LNK1104: æ— æ³•æ‰“å¼€æ–‡ä»¶"libEGL.lib"
```

**åŸå› åˆ†æ**:
- Win32æ¡Œé¢å¹³å°é”™è¯¯åœ°åŒ…å«äº†ç§»åŠ¨å¹³å°(WinRT/WP8)çš„åº“ä¾èµ–
- ANGLE (EGL/GLES) æ˜¯ä¸ºç§»åŠ¨å¹³å°è®¾è®¡çš„ï¼ŒWin32åº”ä½¿ç”¨åŸç”ŸOpenGL

**è§£å†³æ–¹æ¡ˆ**:
1. ä»é¡¹ç›®é…ç½®ä¸­ç§»é™¤ä¸å…¼å®¹çš„åº“:
   ```xml
   <!-- ä»Debugå’ŒReleaseé…ç½®ä¸­ç§»é™¤ -->
   <!-- ç§»é™¤: libEGL.lib;libGLESv2.lib -->
   <AdditionalDependencies>opengl32.lib;glew32.lib;...;libBox2D.lib;%(AdditionalDependencies)</AdditionalDependencies>
   ```

2. ç¡®ä¿å¹³å°ç‰¹å®šä»£ç æ­£ç¡®:
   ```cpp
   #if CC_TARGET_PLATFORM == CC_PLATFORM_WIN32
       #include "GL/glew.h"  // Win32ä½¿ç”¨åŸç”ŸOpenGL
   #elif CC_TARGET_PLATFORM == CC_PLATFORM_WINRT
       #include <EGL/egl.h>  // WinRTä½¿ç”¨OpenGL ES
   #endif
   ```

#### 1.3 LNK4098/LNK2005 - CRTåº“å†²çª

**ç—‡çŠ¶**:
```
error LNK2005: __crt_debugger_hook å·²ç»åœ¨ MSVCRT.lib ä¸­å®šä¹‰
error LNK1169: æ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªå¤šé‡å®šä¹‰çš„ç¬¦å·
```

**åŸå› åˆ†æ**:
- VS2015å¼•å…¥äº†æ–°çš„Universal C Runtime (UCRT)
- æ—§åº“ä½¿ç”¨æ—§çš„MSVCRTï¼Œæ–°ç¨‹åºä½¿ç”¨UCRT
- ä¸¤è€…æ··ç”¨å¯¼è‡´ç¬¦å·é‡å¤å®šä¹‰

**è§£å†³æ–¹æ¡ˆ**:
1. **ç»Ÿä¸€ä½¿ç”¨åŠ¨æ€CRT**:
   ```xml
   <!-- Releaseé…ç½® -->
   <RuntimeLibrary>MultiThreadedDLL</RuntimeLibrary>
   
   <!-- Debugé…ç½® -->
   <RuntimeLibrary>MultiThreadedDebugDLL</RuntimeLibrary>
   ```

2. **å¿½ç•¥å†²çªçš„åº“**:
   ```xml
   <IgnoreSpecificDefaultLibraries>libcmt.lib;libcmtd.lib;msvcrt.lib;msvcrtd.lib</IgnoreSpecificDefaultLibraries>
   ```

3. **æ·»åŠ å…¼å®¹åº“**:
   ```xml
   <AdditionalDependencies>legacy_stdio_definitions.lib;%(AdditionalDependencies)</AdditionalDependencies>
   ```

#### 1.4 LNK2001 - å®‰å…¨æ£€æŸ¥ç¬¦å·æœªæ‰¾åˆ°

**ç—‡çŠ¶**:
```
freetype.lib(sfnt.obj) : error LNK2001: æ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å· @__security_check_cookie@4
zlib.lib(trees.obj) : error LNK2001: æ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å· @__security_check_cookie@4
```

**åŸå› åˆ†æ**:
- Visual Studioç¼“å†²åŒºå®‰å…¨æ£€æŸ¥åŠŸèƒ½åœ¨ä¸åŒç‰ˆæœ¬é—´å®ç°ä¸åŒ
- æ—§ç‰ˆæœ¬ç¼–è¯‘çš„åº“åŒ…å«`@__security_check_cookie@4`ç¬¦å·å¼•ç”¨ï¼Œä½†æ–°ç‰ˆVS2015æ— æ³•æä¾›

**è§£å†³æ–¹æ¡ˆ**:
åœ¨é¡¹ç›®çš„é“¾æ¥å™¨é€‰é¡¹ä¸­æ·»åŠ :
```xml
<AdditionalOptions>/DYNAMICBASE:NO /GS- %(AdditionalOptions)</AdditionalOptions>
```
- `/DYNAMICBASE:NO` - ç¦ç”¨åŠ¨æ€åŸºå€ï¼ˆASLRï¼‰
- `/GS-` - ç¦ç”¨å®‰å…¨æ£€æŸ¥åŠŸèƒ½

---

### 2. ç¼–è¯‘é”™è¯¯ï¼ˆC ç³»åˆ—ï¼‰

#### 2.1 C1083 - æ— æ³•æ‰“å¼€æºæ–‡ä»¶

**ç—‡çŠ¶**:
```
é”™è¯¯ C1083: æ— æ³•æ‰“å¼€åŒ…æ‹¬æ–‡ä»¶: "CocosDenshion/Include/SimpleAudioEngine.h": No such file or directory
```

**åŸå› åˆ†æ**:
- ä¸æ­£ç¡®çš„ç›¸å¯¹è·¯å¾„å¼•ç”¨
- å¤´æ–‡ä»¶è·¯å¾„é…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
1. **ä¿®æ­£å¤´æ–‡ä»¶è·¯å¾„**:
   ```cpp
   // ä¿®æ”¹å‰
   #include "CocosDenshion/Include/SimpleAudioEngine.h"
   
   // ä¿®æ”¹å
   #include "SimpleAudioEngine.h"
   ```

2. **éªŒè¯AdditionalIncludeDirectoriesé…ç½®**:
   ```xml
   <AdditionalIncludeDirectories>$(ProjectDir);$(SolutionDir);%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
   ```

#### 2.2 C2011 - ç»“æ„ä½“é‡å®šä¹‰

**ç—‡çŠ¶**:
```
é”™è¯¯ C2011: "timespec":"struct"ç±»å‹é‡å®šä¹‰
```

**åŸå› åˆ†æ**:
- VS2015åœ¨`<time.h>`ä¸­å·²ç»å®šä¹‰äº†`timespec`
- pthread.hé‡å¤å®šä¹‰å¯¼è‡´ç¼–è¯‘é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
æ·»åŠ ç‰ˆæœ¬æ£€æŸ¥ä¿æŠ¤:
```c
// åœ¨pthread.hä¸­æ·»åŠ VS2015ç‰ˆæœ¬æ£€æŸ¥
#if !defined(_TIMESPEC_DEFINED) && !defined(_INC_TIME) && !defined(TIMESPEC_DEFINED) && (_MSC_VER < 1900)
// VS2015ä¹‹å‰çš„ç‰ˆæœ¬éœ€è¦å®šä¹‰timespec
struct timespec {
    long tv_sec;
    long tv_nsec;
};
#endif
```

#### 2.3 C1041 - PDBå¹¶å‘å†²çª

**ç—‡çŠ¶**:
```
error C1041: æ— æ³•æ‰“å¼€ç¨‹åºæ•°æ®åº“æ–‡ä»¶; å¦‚æœæ–‡ä»¶ä¸­æœ‰å¤šä¸ªCL.EXEå†™å…¥ç›¸åŒçš„.PDBæ–‡ä»¶ï¼Œè¯·ä½¿ç”¨/FPM
```

**åŸå› åˆ†æ**:
- å¤šä¸ªç¼–è¯‘è¿›ç¨‹åŒæ—¶å†™å…¥åŒä¸€ä¸ªPDBæ–‡ä»¶
- å¹¶è¡Œç¼–è¯‘æ—¶çš„èµ„æºå†²çª

**è§£å†³æ–¹æ¡ˆ**:
1. **ç¦ç”¨å¹¶è¡Œç¼–è¯‘**:
   ```xml
   <MultiProcessorCompilation>false</MultiProcessorCompilation>
   ```

2. **ä½¿ç”¨ä¸åŒçš„PDBæ–‡ä»¶**:
   ```xml
   <ProgramDataBaseFileName>$(IntDir)$(TargetName).pdb</ProgramDataBaseFileName>
   ```

---

### 3. é…ç½®ç›¸å…³

#### 3.1 Debug vs Release é—®é¢˜

**è¿è¡Œæ—¶åº“å¯¹æ¯”**:

| é…ç½® | ç¼–è¯‘é€‰é¡¹ | DLL | LIB | è°ƒè¯•æ”¯æŒ |
|-----|---------|-----|-----|---------|
| **Release - MD** | `/MD` | msvcr140.dll | msvcrt.lib | âŒ æ—  |
| **Release - MT** | `/MT` | - | libcmt.lib | âŒ æ—  |
| **Debug - MDd** | `/MDd` | msvcr140d.dll | msvcrtd.lib | âœ… å®Œæ•´ |
| **Debug - MTd** | `/MTd` | - | libcmtd.lib | âœ… å®Œæ•´ |

**é€‰æ‹©å»ºè®®**:
- **å¼€å‘è°ƒè¯•**: ä½¿ç”¨`/MDd` (MultiThreadedDebugDLL)
  - âœ… å®Œæ•´çš„è°ƒè¯•æ”¯æŒ
  - âœ… å†…å­˜æ³„æ¼æ£€æµ‹
  - âœ… æ–­è¨€å’Œå¼‚å¸¸ä¿¡æ¯
  - âŒ éœ€è¦Debugç‰ˆæœ¬çš„ä¾èµ–åº“

- **å‘å¸ƒç‰ˆæœ¬**: ä½¿ç”¨`/MD` (MultiThreadedDLL)
  - âœ… æ–‡ä»¶å¤§å°å°
  - âœ… å…±äº«CRT DLL
  - âœ… æ€§èƒ½ä¼˜åŒ–
  - âŒ æ— è°ƒè¯•ä¿¡æ¯

#### 3.2 å¹³å°å·¥å…·é›†ç‰ˆæœ¬

**Visual Studioç‰ˆæœ¬å¯¹ç…§è¡¨**:
| Visual Studio | _MSC_VER | å¹³å°å·¥å…·é›† |
|---------------|----------|-----------|
| VS2010 | 1600 | v100 |
| VS2012 | 1700 | v110 |
| VS2013 | 1800 | v120 |
| **VS2015** | **1900** | **v140** |
| VS2017 | 1910-1916 | v141 |
| VS2019 | 1920-1929 | v142 |

**ç¼–è¯‘å™¨ç‰ˆæœ¬æ£€æµ‹**:
```cpp
// æ£€æµ‹Visual Studioç‰ˆæœ¬
#if _MSC_VER >= 1900  // VS2015
    // VS2015+ç‰¹å®šä»£ç 
#elif _MSC_VER >= 1800  // VS2013
    // VS2013ç‰¹å®šä»£ç 
#endif
```

---

### 4. ç¬¬ä¸‰æ–¹åº“é—®é¢˜

#### 4.1 ç¼ºå°‘DLLæ–‡ä»¶

**ç—‡çŠ¶**:
```
æ— æ³•å¯åŠ¨æ­¤ç¨‹åºï¼Œå› ä¸ºè®¡ç®—æœºä¸­ä¸¢å¤± MSVCP140.dll
```

**è§£å†³æ–¹æ¡ˆ**:
1. ä¸‹è½½å¹¶å®‰è£…Visual C++ Redistributable for Visual Studio 2015
2. ä¸‹è½½åœ°å€ï¼šhttps://www.microsoft.com/zh-cn/download/details.aspx?id=48145
3. é€‰æ‹©`vc_redist.x86.exe`ï¼ˆ32ä½ç‰ˆæœ¬ï¼‰

#### 4.2 MSBuildæœªæ‰¾åˆ°

**ç—‡çŠ¶**:
```
'msbuild'ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶ã€‚
```

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®è®¤å·²å®‰è£…Visual Studio 2015å®Œæ•´ç‰ˆæˆ–Build Tools
2. éªŒè¯MSBuildè·¯å¾„ï¼š
   ```batch
   "C:\Program Files (x86)\MSBuild\14.0\Bin\MSBuild.exe" /version
   ```
3. å°†MSBuildè·¯å¾„æ·»åŠ åˆ°ç³»ç»ŸPATHç¯å¢ƒå˜é‡

#### 4.3 ç¬¦å·é‡å¤å®šä¹‰

**ç—‡çŠ¶**:
```
libCocosDenshion.lib(libCocosDenshion.dll) : error LNK2005: "public: void __thiscall CocosDenshion::SimpleAudioEngine::setEffectVolume(unsigned int,float)" å·²ç»åœ¨ SimpleAudioEngineAdapter.obj ä¸­å®šä¹‰
```

**è§£å†³æ–¹æ¡ˆ**:
1. **ç§»é™¤é‡å¤å®ç°**:
   ```batch
   # ä»é¡¹ç›®ä¸­ç§»é™¤SimpleAudioEngineAdapter.cpp
   # åœ¨mt3.win32.vcxprojä¸­æ‰¾åˆ°å¹¶åˆ é™¤:
   <ClCompile Include="SimpleAudioEngineAdapter.cpp" />
   ```

2. **æˆ–å¼ºåˆ¶é“¾æ¥**ï¼ˆä¸æ¨èï¼‰:
   ```xml
   <AdditionalOptions>/FORCE:MULTIPLE %(AdditionalOptions)</AdditionalOptions>
   ```

---

## ğŸ”§ é—®é¢˜æ’æŸ¥å†³ç­–æ ‘

### å¿«é€Ÿå®šä½é—®é¢˜ç±»å‹

```
ç¼–è¯‘å¤±è´¥?
â”œâ”€â”€ C/C++ç¼–è¯‘å™¨é”™è¯¯ (Cxxxx)
â”‚   â”œâ”€â”€ C1083 - å¤´æ–‡ä»¶æœªæ‰¾åˆ° â†’ æ£€æŸ¥åŒ…å«è·¯å¾„
â”‚   â”œâ”€â”€ C2011 - ç±»å‹é‡å®šä¹‰ â†’ æ·»åŠ ç‰ˆæœ¬æ£€æŸ¥ä¿æŠ¤
â”‚   â””â”€â”€ C1041 - PDBå†²çª â†’ ç¦ç”¨å¹¶è¡Œç¼–è¯‘æˆ–åˆ†ç¦»PDB
â”‚
â””â”€â”€ é“¾æ¥å™¨é”™è¯¯ (LNKxxxx)
    â”œâ”€â”€ LNK2019/LNK2001 - æœªè§£æç¬¦å·
    â”‚   â”œâ”€â”€ CRTå‡½æ•°(isalnum, mallocç­‰) â†’ æ£€æŸ¥Debug/Releaseé…ç½®
    â”‚   â”œâ”€â”€ æ•°å­¦å‡½æ•°(sin, cosç­‰) â†’ æ£€æŸ¥æ•°å­¦åº“é“¾æ¥
    â”‚   â”œâ”€â”€ è¿ç®—ç¬¦(new/delete) â†’ æ£€æŸ¥C++è¿è¡Œæ—¶åº“
    â”‚   â””â”€â”€ @__security_check_cookie@4 â†’ æ·»åŠ /GS-é€‰é¡¹
    â”‚
    â”œâ”€â”€ LNK1104 - æ— æ³•æ‰“å¼€åº“æ–‡ä»¶
    â”‚   â”œâ”€â”€ libEGL.lib/libGLESv2.lib â†’ ç§»é™¤ç§»åŠ¨å¹³å°åº“
    â”‚   â””â”€â”€ å…¶ä»–åº“ â†’ æ£€æŸ¥åº“è·¯å¾„å’Œç¼–è¯‘é¡ºåº
    â”‚
    â””â”€â”€ LNK2005/LNK4098/LNK1169 - ç¬¦å·é‡å¤å®šä¹‰
        â”œâ”€â”€ CRTå‡½æ•° â†’ ç»Ÿä¸€è¿è¡Œæ—¶åº“é…ç½®
        â””â”€â”€ å…¶ä»–ç¬¦å· â†’ æ£€æŸ¥é‡å¤å®ç°
```

---

## ğŸ› ï¸ éªŒè¯ä¸æµ‹è¯•

### éªŒè¯ç¼–è¯‘è¾“å‡º

**éªŒè¯è„šæœ¬**:
```batch
@echo off
echo éªŒè¯ç¼–è¯‘è¾“å‡º...
echo.

set ERROR=0

if exist "client\MT3Win32App\Release.win32\MT3.exe" (
    echo [âˆš] MT3.exe - Release
    for %%A in ("client\MT3Win32App\Release.win32\MT3.exe") do echo     å¤§å°: %%~zA å­—èŠ‚
) else (
    echo [Ã—] MT3.exe - Release ä¸å­˜åœ¨
    set ERROR=1
)

if exist "client\MT3Win32App\Debug.win32\MT3.exe" (
    echo [âˆš] MT3.exe - Debug
) else (
    echo [Ã—] MT3.exe - Debug ä¸å­˜åœ¨
    set ERROR=1
)

if %ERROR%==0 (
    echo.
    echo [æˆåŠŸ] æ‰€æœ‰è¾“å‡ºæ–‡ä»¶å·²å‡†å¤‡å°±ç»ª
) else (
    echo.
    echo [å¤±è´¥] éƒ¨åˆ†è¾“å‡ºæ–‡ä»¶ç¼ºå¤±
)
```

### éªŒè¯ä¾èµ–åº“

**Debugåº“éªŒè¯**:
```batch
@echo off
echo éªŒè¯Debugä¾èµ–åº“...
echo.

set ERROR=0

if exist "common\platform\Debug.win32\platform.lib" (
    echo [âˆš] platform.lib - Debug
) else (
    echo [Ã—] platform.lib - Debug ä¸å­˜åœ¨
    set ERROR=1
)

if exist "common\ljfm\Debug.win32\ljfm.lib" (
    echo [âˆš] ljfm.lib - Debug
) else (
    echo [Ã—] ljfm.lib - Debug ä¸å­˜åœ¨
    set ERROR=1
)

if exist "common\lua\Debug.win32\lua.lib" (
    echo [âˆš] lua.lib - Debug
) else (
    echo [Ã—] lua.lib - Debug ä¸å­˜åœ¨
    set ERROR=1
)

if exist "cocos2d-2.0-rc2-x-2.0.1\Debug.win32\libcocos2d.lib" (
    echo [âˆš] libcocos2d.lib - Debug
) else (
    echo [Ã—] libcocos2d.lib - Debug ä¸å­˜åœ¨
    set ERROR=1
)

if exist "engine\Debug.win32\engine.lib" (
    echo [âˆš] engine.lib - Debug
) else (
    echo [Ã—] engine.lib - Debug ä¸å­˜åœ¨
    set ERROR=1
)

if %ERROR%==0 (
    echo.
    echo [æˆåŠŸ] æ‰€æœ‰Debugä¾èµ–åº“å·²å‡†å¤‡å°±ç»ª
) else (
    echo.
    echo [å¤±è´¥] éƒ¨åˆ†Debugä¾èµ–åº“ç¼ºå¤±
)
```

### ç¬¦å·æ£€æŸ¥

ä½¿ç”¨dumpbinå·¥å…·æ£€æŸ¥ç¬¦å·å¯¼å‡º:
```batch
"C:\Program Files (x86)\Microsoft Visual Studio\2019\BuildTools\VC\Tools\MSVC\14.29.30133\bin\Hostx86\x86\dumpbin.exe" /EXPORTS common\lua\Debug.win32\lua.lib | findstr "isalnum"
```

é¢„æœŸè¾“å‡º:
```
isalnum (imported)
```

---

## ğŸ“š æŠ€æœ¯èƒŒæ™¯

### Universal CRT (UCRT)

ä»Visual Studio 2015å¼€å§‹ï¼ŒMicrosoftå¼•å…¥äº†Universal CRT:

- **æ—§ç‰ˆæœ¬**: msvcr120.dll, msvcr110.dll (VS2013, VS2012)
- **æ–°ç‰ˆæœ¬**: ucrtbase.dll (VS2015+)

UCRTå°†CRTåˆ†ä¸ºä¸¤éƒ¨åˆ†:
1. **ucrtbase.dll** - é€šç”¨CRTå‡½æ•°
2. **vcruntime140.dll** - VC++è¿è¡Œæ—¶(å¼‚å¸¸å¤„ç†ã€RTTI)

### ç¬¦å·å‘½åçº¦å®š

- `__imp__`å‰ç¼€: ä»DLLå¯¼å…¥çš„ç¬¦å·
- `?`å‰ç¼€: C++åç§°ä¿®é¥°(name mangling)
- `__cdecl`, `__stdcall`: è°ƒç”¨çº¦å®š

ç¤ºä¾‹:
```cpp
// Cå‡½æ•°
extern "C" void foo();  â†’ _foo

// C++å‡½æ•°
void foo();  â†’ ?foo@@YAXXZ

// å¯¼å…¥çš„Cå‡½æ•°
__declspec(dllimport) void foo();  â†’ __imp__foo
```

---

## ğŸ“‹ ä¿®æ”¹çš„æ–‡ä»¶æ¸…å•

### ä¸»ç¨‹åºæ–‡ä»¶

âœ… **client/MT3Win32App/SimpleAudioEngineAdapter.cpp**
- ä¿®æ”¹: ç¬¬4è¡Œ,å¤´æ–‡ä»¶è·¯å¾„

âœ… **client/MT3Win32App/mt3.win32.vcxproj**
- ä¿®æ”¹: RuntimeLibraryé…ç½®
- ä¿®æ”¹: æ·»åŠ legacy_stdio_definitions.lib
- ä¿®æ”¹: æ·»åŠ /DYNAMICBASE:NO /GS-é€‰é¡¹

### Cocos2d-xå¼•æ“æ–‡ä»¶

âœ… **cocos2d-2.0-rc2-x-2.0.1/cocos2dx/platform/third_party/win32/pthread/pthread.h**
- ä¿®æ”¹: ç¬¬305-317è¡Œ,æ·»åŠ VS2015ç‰ˆæœ¬æ£€æŸ¥

âœ… **cocos2d-2.0-rc2-x-2.0.1/cocos2dx/proj.win32/cocos2d-win32.vcxproj**
- ä¿®æ”¹: ç¬¬72è¡Œ(Debugé…ç½®)
- ä¿®æ”¹: ç¬¬110è¡Œ(Releaseé…ç½®)
- ç§»é™¤: libEGL.libå’ŒlibGLESv2.libä¾èµ–

---

## ğŸ“ å¸¸è§é—®é¢˜è§£ç­”

### Q1: ä¸ºä»€ä¹ˆReleaseåº“ä¸èƒ½ç”¨äºDebugç¨‹åºï¼Ÿ

**A**: å› ä¸ºDebugå’ŒReleaseä½¿ç”¨ä¸åŒçš„Cè¿è¡Œæ—¶åº“:
- Releaseä½¿ç”¨`msvcrt.lib`(ä¼˜åŒ–çš„ï¼Œæ— è°ƒè¯•ä¿¡æ¯)
- Debugä½¿ç”¨`msvcrtd.lib`(å¸¦è°ƒè¯•ä¿¡æ¯ï¼Œå†…å­˜æ£€æµ‹)

ä¸¤è€…çš„ç¬¦å·åç§°å’Œå†…éƒ¨å®ç°éƒ½ä¸åŒï¼Œæ— æ³•æ··ç”¨ã€‚

### Q2: å¯ä»¥å¼ºåˆ¶é“¾æ¥ä¸åŒç‰ˆæœ¬çš„åº“å—ï¼Ÿ

**A**: æŠ€æœ¯ä¸Šå¯ä»¥ä½¿ç”¨`/FORCE:MULTIPLE`å¼ºåˆ¶é“¾æ¥ï¼Œä½†ä¼šå¯¼è‡´:
- è¿è¡Œæ—¶å´©æºƒ
- å†…å­˜æ³„æ¼
- è°ƒè¯•å™¨æ— æ³•æ­£å¸¸å·¥ä½œ
- ä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨

### Q3: ç¼–è¯‘Debugåº“éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ

**A**: é¢„è®¡æ—¶é—´:
- platform.lib: ~30ç§’
- ljfm.lib: ~30ç§’
- lua.lib: ~45ç§’
- cauthc.lib: ~60ç§’
- cocos2d-x: ~10-15åˆ†é’Ÿ
- engine.lib: ~5åˆ†é’Ÿ

æ€»è®¡: çº¦20-25åˆ†é’Ÿ

### Q4: Debugç‰ˆæœ¬æ–‡ä»¶ä¼šæ›´å¤§å—ï¼Ÿ

**A**: æ˜¯çš„ï¼ŒDebugç‰ˆæœ¬é€šå¸¸æ¯”Releaseå¤§2-3å€:
- åŒ…å«è°ƒè¯•ç¬¦å·(.pdb)
- æœªä¼˜åŒ–çš„ä»£ç 
- é¢å¤–çš„æ–­è¨€æ£€æŸ¥

---

## ğŸ“– ç›¸å…³æ–‡æ¡£

- [06-ç¼–è¯‘å®Œæ•´æŒ‡å—.md](06-ç¼–è¯‘å®Œæ•´æŒ‡å—.md) - Windowsç¼–è¯‘æµç¨‹
- [08-Androidç¼–è¯‘å®Œæ•´æŒ‡å—.md](08-Androidç¼–è¯‘å®Œæ•´æŒ‡å—.md) - Androidç¼–è¯‘æµç¨‹
- [11-å…³é”®æŠ€æœ¯æ–‡æ¡£.md](11-å…³é”®æŠ€æœ¯æ–‡æ¡£.md) - æŠ€æœ¯ç»†èŠ‚
- [VS2015å…¼å®¹æ€§è¡¥ä¸è¯´æ˜.md](VS2015å…¼å®¹æ€§è¡¥ä¸è¯´æ˜.md) - CRTå…¼å®¹æ€§è¯¦ç»†è¯´æ˜
- [libEGLé“¾æ¥é”™è¯¯ä¿®å¤è¯´æ˜.md](libEGLé“¾æ¥é”™è¯¯ä¿®å¤è¯´æ˜.md) - OpenGL vs OpenGL ESæŠ€æœ¯åˆ†æ

---

**æ–‡æ¡£ç‰ˆæœ¬**: 2.0  
**æœ€åæ›´æ–°**: 2025-10-22  
**çŠ¶æ€**: å·²å®Œæˆ - åˆå¹¶ä¸‰ä¸ªæ’é”™æ–‡æ¡£  
**ä¸‹ä¸€æ­¥**: åˆ›å»º12-ç‰¹æ®ŠæŠ€æœ¯ä¸“é¢˜.md