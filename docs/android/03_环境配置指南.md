# Android æ‰“åŒ…ç¯å¢ƒé…ç½®æŒ‡å—

> **ç›®æ ‡**: ä»é›¶é…ç½®Androidæ‰“åŒ…ç¯å¢ƒ,ç¡®ä¿æ‰€æœ‰å·¥å…·æ­£ç¡®å®‰è£…å’Œé…ç½®
> **é€‚ç”¨**: MT3 Androidå®¢æˆ·ç«¯ (armeabi-v7aæ¶æ„)
> **åŸåˆ™**: KISS(ç®€å•æ˜äº†) + ä¸€æ¬¡é…ç½®,é•¿æœŸä½¿ç”¨

---

## ç¬¬1ç« : å·¥å…·è¦æ±‚ä¸ç‰ˆæœ¬

### 1.1 æ ¸å¿ƒå·¥å…·æ¸…å•

| å·¥å…· | ç‰ˆæœ¬è¦æ±‚ | ç”¨é€” | æ¨èå®‰è£…è·¯å¾„ |
|------|---------|------|-------------|
| **JDK** | 1.8.0_144 | Javaç¼–è¯‘å’Œç­¾å | C:\Program Files\Java\jdk1.8.0_144 |
| **Apache Ant** | 1.9.x | æ„å»ºè‡ªåŠ¨åŒ– | C:\apache-ant-1.9.7 |
| **Android SDK** | r24.x | Androidæ‰“åŒ…å·¥å…· | C:\Program Files (x86)\Android\android-sdk |
| **Android NDK** | r10e | Nativeä»£ç ç¼–è¯‘ | D:\android-ndk-r10e |
| **Keystore** | é¡¹ç›®æä¾› | APKç­¾å | client/android/LocojoyProject/build/mt3.keystore |

### 1.2 Android SDK ç»„ä»¶è¦æ±‚

**å¿…éœ€ç»„ä»¶**:
- **Build-Tools**: 22.0.1 (åŒ…å«aapt, dx, zipalign)
- **Platform**: android-22 (API Level 22)
- **Platform-tools**: (åŒ…å«adb)

**ç»„ä»¶ä½ç½®**:
```
android-sdk/
â”œâ”€â”€ build-tools/
â”‚   â””â”€â”€ 22.0.1/
â”‚       â”œâ”€â”€ aapt.exe
â”‚       â”œâ”€â”€ dx.bat
â”‚       â””â”€â”€ zipalign.exe
â”œâ”€â”€ platforms/
â”‚   â””â”€â”€ android-22/
â”‚       â””â”€â”€ android.jar
â””â”€â”€ platform-tools/
    â””â”€â”€ adb.exe
```

### 1.3 æ¶æ„é™åˆ¶è¯´æ˜

**é‡è¦**: å½“å‰é¡¹ç›®**ä»…æ”¯æŒ armeabi-v7a (32ä½)**

- âœ… æ”¯æŒ: armeabi-v7a åŠå…¼å®¹è®¾å¤‡
- âŒ ä¸æ”¯æŒ: arm64-v8a, x86, x86_64

**å½±å“**:
- åœ¨64-bit-onlyè®¾å¤‡(å¦‚Pixel 7)æ— æ³•è¿è¡Œ
- éœ€åœ¨æ”¯æŒ32ä½çš„è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨æµ‹è¯•

---
  
## ç¬¬2ç« : å®‰è£…ä¸é…ç½®æ­¥éª¤

### 1.4 æ„å»ºè„šæœ¬ï¼ˆbuild_with_logï¼‰

- è„šæœ¬è·¯å¾„ï¼šclient/android/LocojoyProject/build_with_log.bat
- åŠŸèƒ½ï¼šä¸²è” ndk-build ä¸ antï¼Œè¾“å‡ºè¯¦ç»†æ—¥å¿—åˆ° e:\MT3\build_logs\android_build_YYYYMMDD_HHMMSS.logã€‚
- ä½¿ç”¨æ–¹å¼ï¼š
  ```cmd
  cd e:\MT3
  cd client\android\LocojoyProject
  build_with_log.bat
  ```
- ç»ˆç«¯æç¤ºï¼šVS Code é»˜è®¤æ‰“å¼€çš„æ˜¯ PowerShellï¼Œä¼šæŠŠ `set`/`call` ç­‰æ‰¹å¤„ç†è¯­æ³•å½“ä½œ PowerShell å‘½ä»¤è§£æï¼Œå¯¼è‡´è„šæœ¬æå‰ä¸­æ–­ã€‚è¯·åœ¨ VS Code é‡Œåˆ‡æ¢åˆ° *Command Prompt* ç»ˆç«¯ï¼ˆæˆ–è¿è¡Œ `cmd /c "cd /d E:\MT3\client\android\LocojoyProject && set MT3_NO_PAUSE=1 && set NDK_HOME=D:\android-ndk-r10e && build_with_log.bat"`ï¼‰ï¼Œç¡®ä¿çœŸæ­£ç”± `cmd.exe` æ‰§è¡Œè„šæœ¬ã€‚
- æ—¥å¿—è¯´æ˜ï¼šæ‰§è¡ŒæˆåŠŸæˆ–å¤±è´¥éƒ½ä¼šå†™å…¥ e:\MT3\build_logs\android_build_YYYYMMDD_HHMMSS.logï¼Œè‹¥ç»ˆç«¯æŠ¥é”™å¯å…ˆæŸ¥çœ‹è¯¥æ–‡ä»¶ï¼Œå†ç»“åˆã€Š06_å®Œæ•´æ’é”™æ‰‹å†Œã€‹å®šä½é—®é¢˜ã€‚
- æ³¨æ„ï¼šè„šæœ¬é»˜è®¤ä»¥è„šæœ¬æ‰€åœ¨ç›®å½•ï¼ˆ%~dp0ï¼‰ä½œä¸ºé¡¹ç›®æ ¹ï¼Œæ—¥å¿—ç›®å½•å¯é€šè¿‡ç¯å¢ƒå˜é‡ MT3_LOG_DIR è¦†ç›–ï¼›è‹¥ä½ çš„é¡¹ç›®è·¯å¾„ä¸æ˜¯ e:\MT3ï¼Œè¯·æŒ‰æœ¬åœ°å®é™…è·¯å¾„è°ƒæ•´ä¸Šè¿°å‘½ä»¤æˆ–è®¾ç½® MT3_LOG_DIR æŒ‡å‘ç›®æ ‡æ—¥å¿—ç›®å½•ã€‚

---
### 2.1 å®‰è£…JDK 1.8.0_144

**æ­¥éª¤1**: ä¸‹è½½JDK
- ä»Oracleå®˜ç½‘æˆ–å†…éƒ¨èµ„æºè·å–JDK 1.8.0_144

**æ­¥éª¤2**: å®‰è£…åˆ°æ ‡å‡†è·¯å¾„
```
C:\Program Files\Java\jdk1.8.0_144
```

**æ­¥éª¤3**: éªŒè¯å®‰è£…
```cmd
"C:\Program Files\Java\jdk1.8.0_144\bin\javac.exe" -version
```

**æœŸæœ›è¾“å‡º**: `javac 1.8.0_144`

---

### 2.2 å®‰è£…Apache Ant

**æ­¥éª¤1**: ä¸‹è½½Ant 1.9.x
- ä»Apacheå®˜ç½‘ä¸‹è½½: https://ant.apache.org/bindownload.cgi

**æ­¥éª¤2**: è§£å‹åˆ°è·¯å¾„
```
C:\apache-ant-1.9.7
```

**æ­¥éª¤3**: éªŒè¯å®‰è£…
```cmd
C:\apache-ant-1.9.7\bin\ant.bat -version
```

**æœŸæœ›è¾“å‡º**: `Apache Ant(TM) version 1.9.7 ...`

---

### 2.3 å®‰è£…Android SDK

**æ–¹å¼1**: ä½¿ç”¨Android Studio (æ¨è)
1. å®‰è£…Android Studio
2. SDK Managerä¸­å®‰è£…:
   - Build-Tools 22.0.1
   - Android 5.1 (API 22)
3. è®°å½•SDKè·¯å¾„(é€šå¸¸åœ¨`C:\Users\ç”¨æˆ·å\AppData\Local\Android\Sdk`)

**æ–¹å¼2**: ç‹¬ç«‹SDKå·¥å…·
1. ä¸‹è½½SDK Tools (r24.x)
2. è§£å‹åˆ° `C:\Program Files (x86)\Android\android-sdk`
3. è¿è¡ŒSDK Managerå®‰è£…æ‰€éœ€ç»„ä»¶

**æ­¥éª¤3**: éªŒè¯ç»„ä»¶
```cmd
# éªŒè¯aapt
"C:\Program Files (x86)\Android\android-sdk\build-tools\22.0.1\aapt.exe" version

# éªŒè¯dx
call "C:\Program Files (x86)\Android\android-sdk\build-tools\22.0.1\dx.bat" --version

# éªŒè¯adb
"C:\Program Files (x86)\Android\android-sdk\platform-tools\adb.exe" version
```

---

### 2.4 å®‰è£…Android NDK r10e

**æ­¥éª¤1**: ä¸‹è½½NDK r10e
- å®˜æ–¹ä¸‹è½½: https://developer.android.com/ndk/downloads/older_releases
- é€‰æ‹©: android-ndk-r10e-windows-x86_64.zip

**æ­¥éª¤2**: è§£å‹åˆ°æŒ‡å®šè·¯å¾„
```
D:\android-ndk-r10e
```

**æ­¥éª¤3**: éªŒè¯å®‰è£…
```cmd
dir /b D:\android-ndk-r10e\ndk-build.cmd
call D:\android-ndk-r10e\ndk-build.cmd --help
```

**æœŸæœ›è¾“å‡º**: æ˜¾ç¤ºGNU makeçš„ä½¿ç”¨å¸®åŠ©

---

### 2.5 é…ç½®ç¯å¢ƒå˜é‡

**æ–¹æ³•1**: ç³»ç»Ÿç¯å¢ƒå˜é‡(æ°¸ä¹…,æ¨è)

1. å³é”®"æ­¤ç”µè„‘" â†’ å±æ€§ â†’ é«˜çº§ç³»ç»Ÿè®¾ç½® â†’ ç¯å¢ƒå˜é‡

2. åœ¨"ç³»ç»Ÿå˜é‡"ä¸­æ–°å»º:

| å˜é‡å | å˜é‡å€¼ |
|--------|-------|
| JAVA_HOME | C:\Program Files\Java\jdk1.8.0_144 |
| ANDROID_HOME | C:\Program Files (x86)\Android\android-sdk |
| ANDROID_SDK_ROOT | C:\Program Files (x86)\Android\android-sdk |
| NDK_HOME | D:\android-ndk-r10e |
| ANT_HOME | C:\apache-ant-1.9.7 |

3. ç¼–è¾‘ç³»ç»Ÿå˜é‡"Path",æ·»åŠ :
```
%JAVA_HOME%\bin
%ANT_HOME%\bin
%ANDROID_HOME%\build-tools\22.0.1
%ANDROID_HOME%\platform-tools
```

**æ–¹æ³•2**: ä¸´æ—¶ä¼šè¯(ä»…å½“å‰ç»ˆç«¯)

**PowerShell**:
```powershell
$env:JAVA_HOME="C:\Program Files\Java\jdk1.8.0_144"
$env:ANDROID_HOME="C:\Program Files (x86)\Android\android-sdk"
$env:NDK_HOME="D:\android-ndk-r10e"
$env:ANT_HOME="C:\apache-ant-1.9.7"
$env:Path="$env:JAVA_HOME\bin;$env:ANT_HOME\bin;$env:ANDROID_HOME\build-tools\22.0.1;$env:ANDROID_HOME\platform-tools;$env:Path"
```

**CMD**:
```cmd
set "JAVA_HOME=C:\Program Files\Java\jdk1.8.0_144"
set "ANDROID_HOME=C:\Program Files (x86)\Android\android-sdk"
set "NDK_HOME=D:\android-ndk-r10e"
set "ANT_HOME=C:\apache-ant-1.9.7"
set "PATH=%JAVA_HOME%\bin;%ANT_HOME%\bin;%ANDROID_HOME%\build-tools\22.0.1;%ANDROID_HOME%\platform-tools;%PATH%"
```

---

## ç¬¬3ç« : å¿«é€ŸéªŒè¯å‘½ä»¤

### 3.1 ä½¿ç”¨PATHéªŒè¯(ç¯å¢ƒå˜é‡å·²é…ç½®)

```cmd
# éªŒè¯æ‰€æœ‰å·¥å…·
java -version && javac -version && ant -version && aapt version && adb version
```

**æœŸæœ›è¾“å‡º**:
- java version "1.8.0_144"
- javac 1.8.0_144
- Apache Ant(TM) version 1.9.7
- Android Asset Packaging Tool, v0.2
- Android Debug Bridge version 1.0.32

### 3.2 ä½¿ç”¨ç»å¯¹è·¯å¾„éªŒè¯(æ— éœ€ç¯å¢ƒå˜é‡)

å¦‚æœç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ,ä½¿ç”¨å®Œæ•´è·¯å¾„éªŒè¯:

```cmd
# éªŒè¯JDK
"C:\Program Files\Java\jdk1.8.0_144\bin\javac.exe" -version

# éªŒè¯Ant
C:\apache-ant-1.9.7\bin\ant.bat -version

# éªŒè¯Android SDK (ä½¿ç”¨çŸ­è·¯å¾„é¿å…ç©ºæ ¼é—®é¢˜)
"C:\Progra~2\Android\android-sdk\build-tools\22.0.1\aapt.exe" version
call "C:\Progra~2\Android\android-sdk\build-tools\22.0.1\dx.bat" --version
"C:\Progra~2\Android\android-sdk\build-tools\22.0.1\zipalign.exe" -h
"C:\Progra~2\Android\android-sdk\platform-tools\adb.exe" version

# éªŒè¯NDK
call D:\android-ndk-r10e\ndk-build.cmd --help
```

### 3.3 ä½¿ç”¨è‡ªåŠ¨éªŒè¯è„šæœ¬

è¿è¡Œé¡¹ç›®æä¾›çš„éªŒè¯è„šæœ¬:
```cmd
cd e:\MT3
tools\validate\android_env_check.bat
```

**è„šæœ¬åŠŸèƒ½**:
- æ£€æŸ¥æ‰€æœ‰å·¥å…·å¯ç”¨æ€§
- éªŒè¯ç‰ˆæœ¬åŒ¹é…
- æ£€æŸ¥ABIé…ç½®
- è¾“å‡ºè¯Šæ–­æŠ¥å‘Š

---

## ç¬¬4ç« : å¸¸è§ç¯å¢ƒé—®é¢˜

### 4.1 "javacä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤"

**åŸå› **: JAVA_HOMEæœªè®¾ç½®æˆ–Pathé…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
```cmd
# ä¸´æ—¶è®¾ç½®
set "JAVA_HOME=C:\Program Files\Java\jdk1.8.0_144"
set "PATH=%JAVA_HOME%\bin;%PATH%"

# éªŒè¯
javac -version
```

---

### 4.2 "NDK_HOME is not set"

**åŸå› **: NDKç¯å¢ƒå˜é‡æœªè®¾ç½®

**è§£å†³æ–¹æ¡ˆ**:
```cmd
# æ£€æŸ¥NDKå®‰è£…
dir /b D:\android-ndk-r10e\ndk-build.cmd

# ä¸´æ—¶è®¾ç½®
set "NDK_HOME=D:\android-ndk-r10e"

# éªŒè¯
"%NDK_HOME%\ndk-build.cmd" --help
```

---

### 4.3 "aapt: command not found"

**åŸå› **: Android SDK Build-Toolsè·¯å¾„æœªåŠ å…¥PATH

**è§£å†³æ–¹æ¡ˆ1**: ä½¿ç”¨ç»å¯¹è·¯å¾„
```cmd
"C:\Progra~2\Android\android-sdk\build-tools\22.0.1\aapt.exe" version
```

**è§£å†³æ–¹æ¡ˆ2**: æ·»åŠ åˆ°PATH
```cmd
set "PATH=%ANDROID_HOME%\build-tools\22.0.1;%PATH%"
```

---

### 4.4 PowerShellè·¯å¾„ç©ºæ ¼é—®é¢˜

**ç—‡çŠ¶**: `Program Files`è·¯å¾„å¯¼è‡´å‘½ä»¤å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨çŸ­è·¯å¾„
- `C:\Program Files` â†’ `C:\Progra~1`
- `C:\Program Files (x86)` â†’ `C:\Progra~2`

---

### 4.5 dxæŠ¥é”™ "UnsupportedClassVersionError"

**åŸå› **: Javaå­—èŠ‚ç ç‰ˆæœ¬ä¸dxå·¥å…·ä¸åŒ¹é…

**è§£å†³æ–¹æ¡ˆ**: ç¡®ä¿ç¼–è¯‘ç›®æ ‡ä¸º1.7
- å·²åœ¨[build.xml](../../client/android/LocojoyProject/build.xml:214)ä¿®æ­£ä¸º:
  ```xml
  <javac compiler="modern" source="1.7" target="1.7" ... />
  ```

---

## ç¬¬5ç« : å·¥ç¨‹é…ç½®éªŒè¯

### 5.1 æ£€æŸ¥NDKé…ç½®

æŸ¥çœ‹ [Application.mk](../../client/android/LocojoyProject/jni/Application.mk):
```makefile
APP_ABI := armeabi-v7a
APP_PLATFORM := android-11
NDK_TOOLCHAIN_VERSION := 4.9
```

**ç¡®è®¤**:
- âœ… APP_ABIä»…ä¸ºarmeabi-v7a
- âŒ ä¸åŒ…å«arm64-v8a

### 5.2 æ£€æŸ¥ä¾èµ–åº“å®Œæ•´æ€§

**é¢„ç¼–è¯‘å…±äº«åº“**(.so):
```cmd
# ç™¾åº¦å®šä½SDK
dir /b client\3rdplatform\BaiduLBS_AndroidSDK_Lib\libs\armeabi-v7a\liblocSDK6a.so

# DU SDK
dir /b client\3rdplatform\duClient_SDK_Lib\libs\armeabi-v7a\libdu.so
```

**é™æ€åº“**(é€šå¸¸åœ¨cocos2dç›®å½•):
- libpng.a
- libjpeg.a
- libz.a

### 5.3 æ£€æŸ¥ç­¾åé…ç½®

```cmd
type client\android\LocojoyProject\ant.properties
```

æ ¸å¯¹å…³é”®é¡¹:
- key.store æŒ‡å‘çš„ keystore ç›®å½•æ˜¯å¦å­˜åœ¨
- key.alias ä¸ºè¯ä¹¦åˆ«å

æŒ‰ ant.properties å±•å¼€è·¯å¾„éªŒè¯ keystore æ˜¯å¦å­˜åœ¨ï¼Œä¾‹å¦‚:
```cmd
dir /b client\android\chuhancommon\android_adt\*
```

**å®‰å…¨æç¤º**:
- âš ï¸ ç”Ÿäº§ç¯å¢ƒå‹¿åœ¨è„šæœ¬ä¸­ç¡¬ç¼–ç å¯†ç 
- âœ… ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å¤–éƒ¨é…ç½®æ³¨å…¥

---

## ç¬¬6ç« : ä¸€é”®æ‰“åŒ…å‘½ä»¤

### 6.1 ä½¿ç”¨å¢å¼ºç‰ˆè„šæœ¬(æ¨è)

```cmd
cd client\android\LocojoyProject
build_with_log.bat
```

**ä¼˜åŠ¿**:
- è‡ªåŠ¨è®°å½•è¯¦ç»†æ—¥å¿—
- éªŒè¯ç¯å¢ƒå’Œä¾èµ–
- å¤±è´¥æ—¶æä¾›è¯Šæ–­ä¿¡æ¯

### 6.2 æ‰‹åŠ¨æ‰“åŒ…(è°ƒè¯•ç”¨)

```cmd
# 1. è®¾ç½®ç¯å¢ƒ
set "NDK_HOME=D:\android-ndk-r10e"
set "MT3_NO_PAUSE=1"

# 2. NDKæ„å»º
cd client\android\LocojoyProject
mt3_build.bat

# 3. Antæ‰“åŒ…
ant -buildfile build.xml release

# 4. éªŒè¯äº§ç‰©
dir /b bin\mt3_locojoy.apk
```

### 6.3 VS Code è‡ªåŠ¨åŒ–ä»»åŠ¡

- å·¥ä½œåŒºå·²æä¾› `.vscode/tasks.json`ï¼Œé»˜è®¤ä»»åŠ¡ `android:build-apk` ä¼šè°ƒç”¨ `build_with_log.bat`ï¼Œè‡ªåŠ¨è®¾ç½® `MT3_NO_PAUSE`ã€`MT3_LOG_DIR` ç­‰ç¯å¢ƒå˜é‡ï¼Œå¹¶ä½¿ç”¨ `cmd.exe` é¿å… PowerShell è¯­æ³•å†²çªã€‚
- `.vscode/settings.json` ä¸­æ–°å¢ `mt3.android.ndkHome` ä¸ `mt3.android.sdkHome` é…ç½®é¡¹ï¼Œå¯æŒ‰æœ¬åœ°å®é™…å®‰è£…è·¯å¾„è°ƒæ•´ï¼›ä»»åŠ¡ä¼šè¯»å–è¿™ä¸¤ä¸ªå€¼æ³¨å…¥ `NDK_HOME` / `ANDROID_HOME`ã€‚
- ä¸ºäº†ä¿è¯ç­¾åå®‰å…¨ï¼Œ`client/android/LocojoyProject/ant.properties` ä¸å†ä¿å­˜æ˜æ–‡å£ä»¤ã€‚è¯·åœ¨è¿è¡Œä»»åŠ¡å‰ï¼Œå°† `MT3_KEYSTORE_PASSWORD` ä¸ `MT3_KEY_ALIAS_PASSWORD` è®¾ä¸ºç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œæˆ–åœ¨ VS Code â€œç»ˆç«¯ > ç¯å¢ƒå˜é‡â€ä¸­ä¸´æ—¶æ³¨å…¥ã€‚
- è¿è¡Œæ–¹å¼ï¼šåœ¨ VS Code ä¸­æ‰§è¡Œ `ç»ˆç«¯ > è¿è¡Œä»»åŠ¡â€¦`ï¼Œé€‰æ‹© `android:build-apk`ã€‚æ‰§è¡Œç»“æŸåå¯åœ¨ `build_logs/android_build_YYYYMMDD_HHMMSS.log` æŸ¥çœ‹å®Œæ•´è¾“å‡ºã€‚

---

## ç¬¬7ç« : æ•…éšœæ’æŸ¥æµç¨‹

```mermaid
graph TD
    A[ç¯å¢ƒé…ç½®é—®é¢˜] --> B{å·¥å…·å¯ç”¨?}
    B -->|å¦| C[æ£€æŸ¥å®‰è£…è·¯å¾„]
    B -->|æ˜¯| D{ç¯å¢ƒå˜é‡æ­£ç¡®?}
    D -->|å¦| E[é‡æ–°é…ç½®ç¯å¢ƒå˜é‡]
    D -->|æ˜¯| F{ä¾èµ–åº“å®Œæ•´?}
    F -->|å¦| G[è¡¥å……ç¼ºå¤±çš„.so/.aæ–‡ä»¶]
    F -->|æ˜¯| H[ç¯å¢ƒé…ç½®æˆåŠŸ]
```

**å¿«é€Ÿè¯Šæ–­æ£€æŸ¥æ¸…å•**:
- [ ] JDKç‰ˆæœ¬æ­£ç¡® (`javac -version`)
- [ ] Antå¯ç”¨ (`ant -version`)
- [ ] ANDROID_HOMEå·²è®¾ç½® (`echo %ANDROID_HOME%`)
- [ ] NDK_HOMEå·²è®¾ç½® (`echo %NDK_HOME%`)
- [ ] Build-Tools 22.0.1å·²å®‰è£…
- [ ] android-22å¹³å°å·²å®‰è£…
- [ ] ndk-build.cmdå­˜åœ¨

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- ä¸‹ä¸€æ­¥: [02_æ‰“åŒ…å‰æ£€æŸ¥æ¸…å•.md](02_æ‰“åŒ…å‰æ£€æŸ¥æ¸…å•.md) - æ‰§è¡Œæ‰“åŒ…å‰çš„ç³»ç»ŸåŒ–æ£€æŸ¥
- å¿«é€Ÿå¼€å§‹: [01_å¿«é€Ÿå¼€å§‹.md](01_å¿«é€Ÿå¼€å§‹.md) - 3æ­¥å®Œæˆæ‰“åŒ…
- é—®é¢˜è¯Šæ–­: [05_é—®é¢˜è¯Šæ–­å†³ç­–æ ‘.md](05_é—®é¢˜è¯Šæ–­å†³ç­–æ ‘.md) - å¿«é€Ÿå®šä½ç¯å¢ƒé—®é¢˜

---

## é™„å½•: æ‰¹é‡éªŒè¯è„šæœ¬

å°†ä»¥ä¸‹å†…å®¹ä¿å­˜ä¸º `verify_env.bat`:

```cmd
@echo off
echo ====== Android æ‰“åŒ…ç¯å¢ƒéªŒè¯ ======
echo.

echo [1/5] éªŒè¯JDK...
javac -version
if errorlevel 1 (echo [FAIL] JDKæœªæ‰¾åˆ°) else (echo [OK] JDKæ­£å¸¸)
echo.

echo [2/5] éªŒè¯Ant...
ant -version
if errorlevel 1 (echo [FAIL] Antæœªæ‰¾åˆ°) else (echo [OK] Antæ­£å¸¸)
echo.

echo [3/5] éªŒè¯Android SDK...
aapt version
if errorlevel 1 (echo [FAIL] aaptæœªæ‰¾åˆ°) else (echo [OK] aaptæ­£å¸¸)
echo.

echo [4/5] éªŒè¯ADB...
adb version
if errorlevel 1 (echo [FAIL] adbæœªæ‰¾åˆ°) else (echo [OK] adbæ­£å¸¸)
echo.

echo [5/5] éªŒè¯NDK...
"%NDK_HOME%\ndk-build.cmd" --help > nul 2>&1
if errorlevel 1 (echo [FAIL] NDKæœªæ‰¾åˆ°) else (echo [OK] NDKæ­£å¸¸)
echo.

echo ====== éªŒè¯å®Œæˆ ======
pause
```

---

**æœ€åæ›´æ–°**: 2025-10-17
**ç»´æŠ¤è€…**: MT3é¡¹ç›®ç»„
**ç‰ˆæœ¬**: v2.0 (æ•´åˆè‡ªv1.0ç¯å¢ƒè¦æ±‚æ–‡æ¡£å’Œå·¥å…·é“¾éªŒè¯æŒ‡å—)



