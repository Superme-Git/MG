# MT3 文档整合与重命名方案 v1.0

最后更新: 2025-10-14  
维护状态: 进行中

——

## 1. 背景与目标

为“阅读分析项目文档，优化项目规则”，本方案统一 MT3 文档体系，解决以下问题：
- 消除 v140（VS2015）与 v120（VS2013）并存导致的编译指导冲突
- 合并重复与相互矛盾的编译说明，形成一份“权威、可执行”的编译指南
- 建立“序号+中文名称”的规范化文档结构与阅读顺序
- 将 v140 相关内容与阶段性报告归档，避免影响主线生产规则
- 校正所有交叉引用，确保新结构下的链接完整、正确

——

## 2. 统一原则（必须遵守）

- 工具集原则：生产与权威编译文档统一采用 VS2013 v120 工具集；v140 内容全部归档
- 运行时原则：Release 使用 /MD（MultiThreadedDLL），Debug 使用 /MDd
- 结构原则：按照“依赖树 → 编译流程 → 问题排查 → 专题技术”的层次组织
- 命名原则：所有核心文档采用“NN-中文名称.md”格式，NN 为两位序号（00 起）
- 链接原则：文件内与跨文件引用，统一使用相对路径且指向新结构文档

——

## 3. 目标文档结构（序号+中文名称）

以下为“主线生产文档”目标集及处理动作（来源文档为点击可打开）：

1) 00-编译步骤工作计划.md  
- 来源：整合自 [docs/编译前检查清单.md](docs/编译前检查清单.md)、.claude/BUILD_CHECKLIST.md、[docs/编译指南.md](docs/编译指南.md) 的“执行顺序”部分  
- 动作：新建；作为“可执行 Checklist + 阶段门”权威入口

2) 01-快速启动指南.md  
- 来源：重命名 [docs/快速启动指南.md](docs/快速启动指南.md)  
- 动作：保留现有结构，更新交叉引用至 06-编译完整指南.md 与 13-文档索引.md

3) 02-项目概述.md  
- 来源：重命名 [docs/项目概述.md](docs/项目概述.md)  
- 动作：保留，补充对 v120 工具链约束的说明

4) 03-技术体系总结.md  
- 来源：重命名 [docs/MT3项目完整技术体系总结.md](docs/MT3项目完整技术体系总结.md)  
- 动作：校对所有编译相关引用指向新文档

5) 04-架构深度分析.md  
- 来源：重命名 [docs/C++架构深度分析.md](docs/C++架构深度分析.md)  
- 动作：保留

6) 05-编译环境准备.md  
- 来源：重命名 [docs/编译环境准备指南.md](docs/编译环境准备指南.md)  
- 动作：突出 VS2013 v120 安装与验证步骤；移除 VS2015 v140 建议

7) 06-编译完整指南.md  
- 来源：合并 [docs/编译指南.md](docs/编译指南.md) + [docs/MT3编译快速指南.md](docs/MT3编译快速指南.md) + [docs/编译执行说明.md](docs/编译执行说明.md)  
- 动作：统一为 v120 权威流程；保留“快速路径”章节；将 v140 指令迁出至归档

8) 07-编译前检查清单.md  
- 来源：沿用 [docs/编译前检查清单.md](docs/编译前检查清单.md)  
- 动作：与 00-编译步骤工作计划.md 交叉链接；补充必读清单

9) 08-编译流程分析.md  
- 来源：合并 [docs/MT3.exe完整编译流程分析.md](docs/MT3.exe完整编译流程分析.md) + [docs/MT3.exe完整编译流程分析_续.md](docs/MT3.exe完整编译流程分析_续.md)  
- 动作：合并重复段落，统一术语；将“编译进度与说明”合并为附录或迁入归档

10) 09-第三方库编译指南.md  
- 来源：重命名 [docs/第三方依赖库重新编译完全指南.md](docs/第三方依赖库重新编译完全指南.md)  
- 动作：校正版本与产物路径；明确 v120 二进制兼容约束

11) 10-编译问题排查.md  
- 来源：合并 [docs/MT3编译问题修复总结.md](docs/MT3编译问题修复总结.md) + [docs/Debug编译错误分析与解决方案.md](docs/Debug编译错误分析与解决方案.md) + [docs/MT3项目编译问题分析与解决方案.md](docs/MT3项目编译问题分析与解决方案.md)  
- 动作：按问题类型分章（链接、CRT、缺库、工具链、PCH、路径）；加入“决定树”流程

12) 11-关键技术文档.md  
- 来源：重命名 [docs/关键技术文档_正确方法与解决方案.md](docs/关键技术文档_正确方法与解决方案.md)  
- 动作：保留为“综合技术最佳实践与解法”权威索引

13) 12-特殊技术专题.md  
- 来源：合并 [docs/CEGUI技术集成指南.md](docs/CEGUI技术集成指南.md) + [docs/CRT库冲突深度分析.md](docs/CRT库冲突深度分析.md) + [docs/libEGL链接错误修复说明.md](docs/libEGL链接错误修复说明.md)  
- 动作：分专题小章；将与工具集兼容相关的深度分析（例如 [docs/Visual Studio工具集兼容性技术报告.md](docs/Visual Studio工具集兼容性技术报告.md)）以“附录”方式引用或纳入 11/12 的相关章节

14) 13-文档索引.md  
- 来源：重建 [docs/文档索引.md](docs/文档索引.md)  
- 动作：更新为新“序号+中文名称”体系；删除 v140 主线入口；仅在“归档说明”中保留 v140 链接入口

——

## 4. 归档策略与清单

归档目录：
- docs/archive/v140相关文档/
- docs/archive/临时报告/

需要归档（v140 相关，点击可打开）：
- [docs/MT3_v140编译最终总结报告.md](docs/MT3_v140编译最终总结报告.md)
- [docs/README_v140编译指南.md](docs/README_v140编译指南.md)
- [docs/v140编译配置说明.md](docs/v140编译配置说明.md)
- [docs/v140编译失败组件详细清单.md](docs/v140编译失败组件详细清单.md)
- [docs/v140迁移完整解决方案.md](docs/v140迁移完整解决方案.md)
- [docs/编译执行说明.md](docs/编译执行说明.md)
- [docs/VS2015兼容性补丁说明.md](docs/VS2015兼容性补丁说明.md)

建议归档（阶段性/临时报告）：
- [docs/编译成功报告.md](docs/编译成功报告.md)
- [docs/编译进度与说明.md](docs/编译进度与说明.md)
- [docs/文档整理报告.md](docs/文档整理报告.md)
- [docs/项目整理完成报告.md](docs/项目整理完成报告.md)
- [docs/Phase_A_v120_编译尝试报告.md](docs/Phase_A_v120_编译尝试报告.md)
- [docs/MT3编译大小分析报告.md](docs/MT3编译大小分析报告.md)

说明：
- [docs/Visual Studio工具集兼容性技术报告.md](docs/Visual Studio工具集兼容性技术报告.md) 建议作为 12-特殊技术专题 的“附录：工具集兼容性”引用（不作为主线指南）
- [docs/最终可用方案.md](docs/最终可用方案.md) 保留在主线，但其对 v140 的结论应以“经验教训”视角呈现，并明确不作为编译主线

——

## 5. 执行步骤（操作清单）

- 目录准备
  - 创建 docs/archive/v140相关文档/
  - 创建 docs/archive/临时报告/

- 文件移动（按清单执行）
  - 将“v140相关”与“临时报告”文件移动至对应归档目录
  - 保留指向归档的说明与入口（仅在 13-文档索引.md 的“归档说明”章节）

- 合并与重命名
  - 执行 06-编译完整指南.md 的三文合并（以 v120 为权威流程，保留“快速路径”）
  - 按第 3 节清单重命名目标文件
  - 统一术语：工具集、运行时库、产物路径、依赖树

- 链接更新
  - 全局更新引用至新结构（特别是 [docs/文档索引.md](docs/文档索引.md)、[docs/编译前检查清单.md](docs/编译前检查清单.md)、[docs/编译指南.md](docs/编译指南.md)）
  - 更新 .claude/RULES.md 的交叉引用，指向 06/13 新文档

- 验证
  - 跑一次“链接完整性”扫描（相对路径可打开）
  - 人工抽样 10 篇文档内的所有链接逐一验证

——

## 6. 交叉引用更新清单（必须修正）

- [docs/编译指南.md](docs/编译指南.md) 中所有 v140 指令与引用 → 迁出至归档，并在 06 中给出 v120 等效流程
- [docs/文档索引.md](docs/文档索引.md) → 重建为 13-文档索引.md（新序号结构，v140 仅在“归档说明”保留入口）
- [docs/编译前检查清单.md](docs/编译前检查清单.md) → 强化 v120 工具链检查项；将“下一步”指向 00 与 06
- .claude/RULES.md → 引用 06-编译完整指南.md 与 13-文档索引.md，删除对旧/已归档文档的主线引用

——

## 7. 风险与回滚

- 风险：链接断裂、读者路径混乱、合并后内容遗漏
- 降低风险：
  - 先“移动归档”，再“重命名与合并”
  - 每一步完成后执行链接验证
- 回滚策略：
  - 归档目录操作均为“移动”；如需回滚可原路径移回
  - 合并文档保留原始文件于归档，确保差异可追溯

——

## 8. 验证标准（验收）

- 结构一致性：docs/ 下存在 00–13 全部目标文档，命名规范统一
- 链接完整性：抽检 ≥10 篇文档，内部与跨文档链接 100% 有效
- 编译主线一致：所有“编译指南与执行文档”统一为 v120，且内容无 v140 主线指令
- 归档清晰：v140 与阶段性报告均位于 docs/archive/ 下，主线索引不再直接呈现 v140 指令
- 可执行性：00-编译步骤工作计划.md 与 06-编译完整指南.md 能独立指导完成一次 v120 编译与验证

——

## 9. 里程碑与责任

- M1：完成归档目录与文件移动（v140/临时）  
- M2：完成 06-编译完整指南.md 合并（v120 权威版）  
- M3：完成重命名与结构搭建（00–13）  
- M4：完成 13-文档索引.md 重建与全局链接校验  
- M5：更新 .claude/RULES.md 交叉引用并最终验收

——

## 10. 附：当前输入文档与处理结论

- 保留并纳入主线：
  - [docs/编译指南.md](docs/编译指南.md) → 参与合并为 06（清除 v140 内容）
  - [docs/MT3编译快速指南.md](docs/MT3编译快速指南.md) → 参与合并为 06 的“快速路径”
  - [docs/编译前检查清单.md](docs/编译前检查清单.md) → 保留为 07，并与 00/06 互链
  - [docs/文档索引.md](docs/文档索引.md) → 重建为 13（新结构）

- 迁入归档：
  - [docs/编译执行说明.md](docs/编译执行说明.md) → 标题即 v140，整体迁入 docs/archive/v140相关文档/

——

本方案执行完成后，主线生产文档将具备“统一工具链、统一流程、统一引用”的一致性与可执行性，显著降低新成员学习成本与编译踩坑概率。