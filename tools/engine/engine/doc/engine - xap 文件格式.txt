
    ani (Nuclear Animation Package)是引擎定义的序列帧动画文件格式，内部包含了序列帧图片数据，用于
表现2D精灵(sprite)或其组成部分、序列帧特效等动画内容，是引擎加载动画资源的基本单位。
    ani 目前在引擎中对应的序列化数据机构是PAniPack, 对应的内存数据结构是XAni。
    ani 由精灵编辑器(SpriteEditor)通过打包操作生成，可以选择一个目录递归打包。打包操作根据用户指定
的一系列图片格式文件、以及用户指定的包格式、附加数据，输出.ani文件，其内容是经过切割、变换、整
理的的图片数据以及包格式、附加数据。

    打包的输入文件为tga,jpg,bmp,png,dds等图形文件，文件名规则为五位数字＋后缀，比如00001.bmp,34567
.tga等，具体五位数字的意义与包格式相关。
    用户指定的附加数据包括：【底座信息】、【边框信息】、【播放总时间】、【纹理混合模式】、【叠加颜色】、【系统级别】、【绑定类型】。
    打包过程中自动判断出的数据包括：【帧数】、【区域数】。
    用户可指定的包格式数据有：【图形存储文件格式】、【纹理数据压缩格式】、【方向模式】。
     
    【底座信息】
        包括基准点(point)，即ani中所有图片的公共基准位置,用于渲染、计算切割偏移。还包括一个平行四边形底座
        信息(rect)，用于引擎的排序物件。
    【边框信息】
        包围边框(rect)，用于渲染前的预判断。
    【播放总时间】
        动画播放基准总时间(单位毫秒)。
    【纹理混合模式】
        目前有两种模式供指定，用于序列帧特效的不同表现效果。
        1.Alpha混合模式
        2.色彩饱和模式

    【帧数】
        动画序列的帧数，由输入文件名的后2位数字判断得出，比如用户提供的输入文件包括00001.tga,00002.tga
        ...,00016.tga，打包过程会自动判断出帧数为16帧，并按序列转换相应的图片数据。
    【区域数】
        动画序列的区域数，由输入文件名的第2位数字判断得出，第2位数字为0则划归为第一区域，为1划归为第2
        区域，依次类推，区域的设计目前主要用于精灵的部分换色，区域是换色的基本单元。
    
    【图形存储文件格式】
        目标存储文件格式，目前有四种格式可用
        1. DDS
        2. BMP
        3. PNG
        4. JPG
    【纹理数据压缩格式】
        纹理数据格式，目前有七种可用
        1. A8R8G8B8 32位色
        2. A4R4G4B4 16位色
            仅用于DDS、BMP
        3. DXT1 DXT2 DXT3 DXT4 DXT5
            仅用于DDS     
    【方向模式】
        目标图片数据按照不同方向的组织方式，目前有六种可用
        输入文件名的第一位代表方向，在不同的方向模式下有不同意义
        1. 不区分方向
        2. 八方向
        3. 四方向
        4. 三方向
        5. 五变八方向
        6. 三变八方向

        模式            名称            方向与资源对应码        美术提供图片文件名首位数字
        XPANIDM_8USE1   不区分方向      0 0 0 0 0 0 0 0         0
        XPANIDM_8       八方向          0 1 2 3 4 5 6 7         0 1 2 3 4 5 6 7
        XPANIDM_4       四方向          x 1 x 3 x 5 x 7         0 1 2 3
        XPANIDM_3       三方向          x x x 3 4 5 x x         0 1 2
        XPANIDM_8FROM5  五变八方向      0 1 2 3 4 t t t         0 1 2 3 4
        XPANIDM_8FROM1  一变八方向      t t 2 t t t t t         0

        x表示不画
        t表示变换得来
    【叠加颜色】
        顶点叠加的颜色，在引擎渲染的时候可以改
    【系统级别】
        只对特效有用，代表中高低配的机子是否绘制，这个还得想办法挪出ani文件，最好弄个索引
    【绑定类型】
        只对特效有用，这个特效如果挂在人身上的时候，是挂在人的原点还是人的特效绑定点

    打包举例1:
        用户指定目录包括文件00001.tga,00002.tga,..00004.tga, 10001.tga,10002.tga,...10004.tga
        ... .... 70001.tga,70002.tga,...,70004.tga，指定【方向模式】为八方向，指定【图形存储
        文件格式】为DDS，指定【纹理数据压缩格式】为DXT5，以及指定附加数据。
        打包过程：首先根据文件名分析出【帧数】为4帧，【区域数】为1，这样得到最后读入的文件数为
        1*8*4 = 32。然后依次读入这32张tga文件的数据，首先切割掉图形中的无效部分（alpha=0)然后
        转换为DXT5格式数据，并将这32个图形数据及切割偏移按区域、方向、帧数组织好存入ani文件，
        并记录所有相关包格式数据。

















